<h2>§ Introduction</h2>
Mathematical facts (theorems) are stated and proven inside of a respective axiomatic theory, e.g. Euclidean geometry. For sake of reusability and composability of mathematical results, generic mathematicians<sup>[^1]</sup> usually work inside of the axiomatic theory of vast generality known as Zermelo–Fraenkel set theory, into which more specialised axiomatic theories (like theory of groups) are submerged. However, it makes a lot of sense to study specialised axiomatic theories in their own right.

An axiomatic theory is defined upon a chosen underlying logic (usually, classical first order logic unless stated otherwise) and is given by
– a language in which propositions of the theory are stated (the language of the underlying logic extended by theory-specific syntax), and
– a finite or recursively generated set of axioms in this language, i.e. propositions assumed to be true a priori in this particular theory.

A logic consists of a common language base for axiomatic theories stated upon this logic, and language for proofs specific to this logic. There is more than one way to define what a language is, but we will assume that these languages are given in terms of formation rules<sup>[^2]</sup> (also called derivation rules in case of a proof language) that can be used to generate a set of unambiguous expressions being valid propositions and correct proofs respectively.

<figure><b>Fig. 1: Examples of formation and derivation rules.</b>
<pre>```
 A : Prop   B : Prop       A : Prop   B : Prop   x : Pf[A]    y : Pf[A => B]
—————————————————————     ———————————————————————————————————————————————————Modus Ponens
    A => B : Prop                           MP(x,y) : Pf[B]

```</pre></figure>
<lj-cut>Equational logic can be seen as a weak fragment of classical first order logic where the only axioms allowed are universally-qualified equational laws. Thus theories based upon equational logic cannot express any properties of non-functional relations, in particular incidence relations, order relations and partially defined operations (like division in fields and division rings). For this reason for theories defined upon equational logic, theory specific syntax is limited to a fixed number of functional symbols of fixed arities (symbols of arity zero being called constants). Theory-specific syntax is usually described precisely in the form we used in Fig. 1 above, as formation rules for terms of the theory.

Lots of interesting axiomatic theories including theory of groups, theory of rings and theory of modules over a ring can be stated and studied upon equational logic. Proofs in equational logic are limited to algebraic manipulations (transforming symbolic expressions using equalities to prove other equalities). For this reason, such theories are known as <a href="https://ncatlab.org/nlab/show/algebraic+theory">algebraic theories</a>. Algebraic theories have <a href="https://ncatlab.org/nlab/show/Functorial+Semantics+of+Algebraic+Theories">exceptionally elegant and well-understood model theory</a>, and <a href="https://en.wikipedia.org/wiki/Variety_(universal_algebra)#Birkhoff&#39;s_theorem">most well-behaved correspondence between syntax and semantics</a>.

<figure><b>Fig. 2: Example of a single-sorted algebraic theory.</b>
<pre>```
 x   y                     x             x
————————    —————     ———————————   ———————————
 [x,y]        e        [e,x] = x     [x,e] = x

```</pre></figure>
All irreducible provable propositions in equational logic are universally qualified and of the form “term₁ = term₂” or “(a = b) ⋀ ··· ⋀ (c = d) ⇒ (x = y)”. Thus, equational logic can be also seen as a logic in its own right with a very tractable proposition and proof languages. Whereas in full first order logic, propositions are arbitrary combinations of nested quantifiers and connectives, in equational logic propositions have a very rigid form, so that quantifiers and connectives can be leaved implicit and not part of the language, a proposition can be described by a nonempty list of equations of finite length, where terms (sides of equalities) are generated by formation rules of the theory and possibly a number of variables. Proof language of equational logic is also vastly simpler: equations can be generated by reflexivity, transformed by symmetry, composed by transitivity and used for algebraic transformations, a proof is just a tree of such steps.

An algebraic theory is a grammar + equational laws between terms generated by the grammar. Grammar of an algebraic theory is allowed to be multisorted (e.g. there two distinct types of variables and terms: “scalars” and “vectors”). Such grammars are however not general enough to describe proposition and proof languages for a logic. A grammar for a proof language (see Fig. 1) is necessarily not just multisorted, but dependently typed: there are types with indexes like `Pf[p]` standing for “Proof of proposition `p`”. Moreover, a if language of propositions has (at least implicit) quantifiers (which is the case for every logic beyond zeroth-order) and also has a dependently typed grammar: besides type `Prop` of closed propositions there have to be types `Prop[ctx]` of propositions with a number of variables (where the “context” ctx specifies the number and types of variables).

To state a dependently typed grammar one has to rely onto a certain notion of equality[^2] of indexes the types are indexed by. Moreover, when two occurrences of typal dependency (Proof[prop] and Prop[ctx]) come into interaction, equality cannot by swept under the rug: in order to define proposition and proof languages for logics, we have to provide their grammars together with some additional equational laws; the framework to describe sufficiently elaborate grammars is necessarily a generalisation of algebraic theories' framework. Establishing of an all-encompassing framework of this kind with a nice model theory is however still work-in-progress.


[^1]: <i>A generic mathematician, or more precisely a generic pure mathematician, is a mathematician working in the areas of algebra, analysis, geometry, topology or number theory, using classical logic and the axiom of choice.</i> — David M Roberts, hott.zulipchat.com

[^2]: Actually, instead of equality a more general notion of canonical convertibility can be developed for this case.



<h2>§ Equality in Dependently-Typed Algebraic Theories</h2>
In the framework of algebraic theories (both <a href="https://ncatlab.org/nlab/show/Lawvere+theory">single-sorted</a> or <a href="https://ncatlab.org/toddtrimble/published/multisorted+Lawvere+theories">multisorted</a> with a fixed finite collection of sorts), equations are imposed upon grammar and not intertwined with it. In order to construct an initial model, one just generates the set of terms from the grammar and factors it by equations. In this framework there is also no notion of equality on sorts except for the purely syntactic notion of nominal equality (equally named sorts are equal).

It gets more tricky if one extends the framework to accommodate dependently-typed theories. In such theories sorts are generalised to types which are in general dependent on values of other types, say `Mat[n, m]` of `(n × m)`-matrices, which can be multiplied only if dimensions match. In such cases one speaks of sort `Mat` with two parameters of type `Nat`. The concrete type is given by sort and fixed values for all of its parameters, e.g. `Mat[3, 3]`. With dependent types we run into a problem: in order to see if a term of type `T[x]` fits into a receptacle of type `T[x']` we need to be able to check if `x = x'`, and it might even happen that `x : G[y]` and `x' : G[y']` so that we need to check if `y = y'` even to start checking if `x = x'`.

Unless we restrict allowed dependency structure, we might run into situation where a circular dependency makes the question if a term fits into a receptacle (i.e. if a given word is a syntactically valid term) not only undecidable but not even semidecidable, and the very existence of the initial model can be shown only with help of the highly non-constructive well-ordering principle (= axiom of choice). A theory without a tractable syntactical model can hardly be named algebraic. For a theory describing a proof language such situation is unacceptable: a proof language where it is in general inherently impossible to find out if a proof is valid is worthless.


§§ Nominal and Auxilary sorts
One of possible solutions is to introduce a special kind of sorts (the nominal sorts) inhabitants of which are to be thought of as “names” with equalities besides trivial “nominal” equality. Dependent types are allowed to be dependent only on inhabitants of nominal sorts, while any nontrivial equalities inside nominal sorts are prohibited.

___
